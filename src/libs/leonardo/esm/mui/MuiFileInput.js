import { Box, Button, Divider, Icon, List, ListItem, ListItemIcon, Typography } from '@mui/material';
import React from 'react';
export function MuiFileInput({
  chatController,
  actionRequest
}) {
  const chatCtl = chatController;
  const [files, setFiles] = React.useState([]);
  const handleFileChange = React.useCallback(fileList => {
    // Convert FileList to File[]
    const fileArray = [];

    if (fileList) {
      for (let i = 0; i < fileList.length; i += 1) {
        const file = fileList.item(i);

        if (file) {
          fileArray.push(file);
        }
      }
    }

    setFiles(fileArray);
  }, []);
  const setResponse = React.useCallback(() => {
    if (files.length > 0) {
      const value = files.map(f => f.name).toString();
      const res = {
        type: 'file',
        value,
        files
      };
      chatCtl.setActionResponse(actionRequest, res);
    }
  }, [actionRequest, chatCtl, files]);
  const sendButtonText = actionRequest.sendButtonText ? actionRequest.sendButtonText : 'Send';
  return /*#__PURE__*/React.createElement(Box, {
    sx: {
      flex: '1 1 auto',
      maxWidth: '100%',
      display: 'flex',
      flexDirection: 'column',
      '& > *': {
        flex: '0 0 auto',
        maxWidth: '100%'
      },
      '& > * + *': {
        mt: 1
      }
    }
  }, /*#__PURE__*/React.createElement(List, null, files.map(f => /*#__PURE__*/React.createElement("div", {
    key: `${f.name}-${f.size}`
  }, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(ListItem, {
    key: f.name
  }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(Icon, null, "attach_file")), /*#__PURE__*/React.createElement(Typography, {
    style: {
      overflowWrap: 'break-word',
      minWidth: 0
    }
  }, f.name))))), /*#__PURE__*/React.createElement(Box, {
    sx: {
      display: 'flex',
      '& > *': {
        flex: '1 1 auto',
        minWidth: 0
      },
      '& > * + *': {
        ml: 1
      }
    }
  }, /*#__PURE__*/React.createElement(Button, {
    disabled: false,
    component: "label",
    variant: "contained",
    color: "primary",
    startIcon: /*#__PURE__*/React.createElement(Icon, null, "folder")
  }, "Select file", /*#__PURE__*/React.createElement("input", {
    type: "file",
    accept: actionRequest.accept,
    multiple: actionRequest.multiple,
    onChange: e => handleFileChange(e.target.files),
    style: {
      display: 'none'
    }
  })), /*#__PURE__*/React.createElement(Button, {
    type: "button",
    onClick: setResponse,
    disabled: files.length === 0,
    variant: "contained",
    color: "primary",
    startIcon: /*#__PURE__*/React.createElement(Icon, null, "send")
  }, sendButtonText)));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tdWkvTXVpRmlsZUlucHV0LnRzeCJdLCJuYW1lcyI6WyJCb3giLCJCdXR0b24iLCJEaXZpZGVyIiwiSWNvbiIsIkxpc3QiLCJMaXN0SXRlbSIsIkxpc3RJdGVtSWNvbiIsIlR5cG9ncmFwaHkiLCJSZWFjdCIsIk11aUZpbGVJbnB1dCIsImNoYXRDb250cm9sbGVyIiwiYWN0aW9uUmVxdWVzdCIsImNoYXRDdGwiLCJmaWxlcyIsInNldEZpbGVzIiwidXNlU3RhdGUiLCJoYW5kbGVGaWxlQ2hhbmdlIiwidXNlQ2FsbGJhY2siLCJmaWxlTGlzdCIsImZpbGVBcnJheSIsImkiLCJsZW5ndGgiLCJmaWxlIiwiaXRlbSIsInB1c2giLCJzZXRSZXNwb25zZSIsInZhbHVlIiwibWFwIiwiZiIsIm5hbWUiLCJ0b1N0cmluZyIsInJlcyIsInR5cGUiLCJzZXRBY3Rpb25SZXNwb25zZSIsInNlbmRCdXR0b25UZXh0IiwiZmxleCIsIm1heFdpZHRoIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJtdCIsInNpemUiLCJvdmVyZmxvd1dyYXAiLCJtaW5XaWR0aCIsIm1sIiwiYWNjZXB0IiwibXVsdGlwbGUiLCJlIiwidGFyZ2V0Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUNFQSxHQURGLEVBRUVDLE1BRkYsRUFHRUMsT0FIRixFQUlFQyxJQUpGLEVBS0VDLElBTEYsRUFNRUMsUUFORixFQU9FQyxZQVBGLEVBUUVDLFVBUkYsUUFTTyxlQVRQO0FBVUEsT0FBT0MsS0FBUCxNQUFrQixPQUFsQjtBQUtBLE9BQU8sU0FBU0MsWUFBVCxDQUFzQjtBQUMzQkMsRUFBQUEsY0FEMkI7QUFFM0JDLEVBQUFBO0FBRjJCLENBQXRCLEVBTWdCO0FBQ3JCLFFBQU1DLE9BQU8sR0FBR0YsY0FBaEI7QUFDQSxRQUFNLENBQUNHLEtBQUQsRUFBUUMsUUFBUixJQUFvQk4sS0FBSyxDQUFDTyxRQUFOLENBQXVCLEVBQXZCLENBQTFCO0FBRUEsUUFBTUMsZ0JBQWdCLEdBQUdS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O0FBSUUsSUFBQSxLQUFLLEVBQUMsU0FKUjtBQUtFLElBQUEsU0FBUyxlQUFFLG9CQUFDLElBQUQ7QUFMYixpQ0FRRTtBQUNFLElBQUEsSUFBSSxFQUFDLE1BRFA7QUFFRSxJQUFBLE1BQU0sRUFBRWhDLGFBQWEsQ0FBQ2lDLE1BRnhCO0FBR0UsSUFBQSxRQUFRLEVBQUVqQyxhQUFhLENBQUNrQyxRQUgxQjtBQUlFLElBQUEsUUFBUSxFQUFHQyxDQUFELElBQWE5QixnQkFBZ0IsQ0FBQzhCLENBQUMsQ0FBQ0MsTUFBRixDQUFTbEMsS0FBVixDQUp6QztBQUtFLElBQUEsS0FBSyxFQUFFO0FBQUV3QixNQUFBQSxPQUFPLEVBQUU7QUFBWDtBQUxULElBUkYsQ0FaRixlQTRCRSxvQkFBQyxNQUFEO0FBQ0UsSUFBQSxJQUFJLEVBQUMsUUFEUDtBQUVFLElBQUEsT0FBTyxFQUFFWixXQUZYO0FBR0UsSUFBQSxRQUFRLEVBQUVaLEtBQUssQ0FBQ1EsTUFBTixLQUFpQixDQUg3QjtBQUlFLElBQUEsT0FBTyxFQUFDLFdBSlY7QUFLRSxJQUFBLEtBQUssRUFBQyxTQUxSO0FBTUUsSUFBQSxTQUFTLGVBQUUsb0JBQUMsSUFBRDtBQU5iLEtBUUdhLGNBUkgsQ0E1QkYsQ0EvQkYsQ0FERjtBQXlFRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEJveCxcbiAgQnV0dG9uLFxuICBEaXZpZGVyLFxuICBJY29uLFxuICBMaXN0LFxuICBMaXN0SXRlbSxcbiAgTGlzdEl0ZW1JY29uLFxuICBUeXBvZ3JhcGh5LFxufSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IENoYXRDb250cm9sbGVyIH0gZnJvbSAnLi4vY2hhdC1jb250cm9sbGVyJztcbmltcG9ydCB7IEZpbGVBY3Rpb25SZXF1ZXN0LCBGaWxlQWN0aW9uUmVzcG9uc2UgfSBmcm9tICcuLi9jaGF0LXR5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIE11aUZpbGVJbnB1dCh7XG4gIGNoYXRDb250cm9sbGVyLFxuICBhY3Rpb25SZXF1ZXN0LFxufToge1xuICBjaGF0Q29udHJvbGxlcjogQ2hhdENvbnRyb2xsZXI7XG4gIGFjdGlvblJlcXVlc3Q6IEZpbGVBY3Rpb25SZXF1ZXN0O1xufSk6IFJlYWN0LlJlYWN0RWxlbWVudCB7XG4gIGNvbnN0IGNoYXRDdGwgPSBjaGF0Q29udHJvbGxlcjtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSBSZWFjdC51c2VTdGF0ZTxGaWxlW10+KFtdKTtcblxuICBjb25zdCBoYW5kbGVGaWxlQ2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGZpbGVMaXN0OiBGaWxlTGlzdCB8IG51bGwpOiB2b2lkID0+IHtcbiAgICAgIC8vIENvbnZlcnQgRmlsZUxpc3QgdG8gRmlsZVtdXG4gICAgICBjb25zdCBmaWxlQXJyYXk6IEZpbGVbXSA9IFtdO1xuICAgICAgaWYgKGZpbGVMaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZUxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZUxpc3QuaXRlbShpKTtcbiAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgZmlsZUFycmF5LnB1c2goZmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRGaWxlcyhmaWxlQXJyYXkpO1xuICAgIH0sXG4gICAgW10sXG4gICk7XG5cbiAgY29uc3Qgc2V0UmVzcG9uc2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKTogdm9pZCA9PiB7XG4gICAgaWYgKGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZmlsZXMubWFwKChmKSA9PiBmLm5hbWUpLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCByZXM6IEZpbGVBY3Rpb25SZXNwb25zZSA9IHsgdHlwZTogJ2ZpbGUnLCB2YWx1ZSwgZmlsZXMgfTtcbiAgICAgIGNoYXRDdGwuc2V0QWN0aW9uUmVzcG9uc2UoYWN0aW9uUmVxdWVzdCwgcmVzKTtcbiAgICB9XG4gIH0sIFthY3Rpb25SZXF1ZXN0LCBjaGF0Q3RsLCBmaWxlc10pO1xuXG4gIGNvbnN0IHNlbmRCdXR0b25UZXh0ID0gYWN0aW9uUmVxdWVzdC5zZW5kQnV0dG9uVGV4dFxuICAgID8gYWN0aW9uUmVxdWVzdC5zZW5kQnV0dG9uVGV4dFxuICAgIDogJ1NlbmQnO1xuXG4gIHJldHVybiAoXG4gICAgPEJveFxuICAgICAgc3g9e3tcbiAgICAgICAgZmxleDogJzEgMSBhdXRvJyxcbiAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgJyYgPiAqJzoge1xuICAgICAgICAgIGZsZXg6ICcwIDAgYXV0bycsXG4gICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgfSxcbiAgICAgICAgJyYgPiAqICsgKic6IHtcbiAgICAgICAgICBtdDogMSxcbiAgICAgICAgfSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPExpc3Q+XG4gICAgICAgIHtmaWxlcy5tYXAoKGYpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17YCR7Zi5uYW1lfS0ke2Yuc2l6ZX1gfT5cbiAgICAgICAgICAgIDxEaXZpZGVyIC8+XG4gICAgICAgICAgICA8TGlzdEl0ZW0ga2V5PXtmLm5hbWV9PlxuICAgICAgICAgICAgICA8TGlzdEl0ZW1JY29uPlxuICAgICAgICAgICAgICAgIDxJY29uPmF0dGFjaF9maWxlPC9JY29uPlxuICAgICAgICAgICAgICA8L0xpc3RJdGVtSWNvbj5cbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgc3R5bGU9e3sgb3ZlcmZsb3dXcmFwOiAnYnJlYWstd29yZCcsIG1pbldpZHRoOiAwIH19PlxuICAgICAgICAgICAgICAgIHtmLm5hbWV9XG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgey8qIDxMaXN0SXRlbVRleHQgcHJpbWFyeT17Zi5uYW1lfSAvPiAqL31cbiAgICAgICAgICAgIDwvTGlzdEl0ZW0+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9MaXN0PlxuICAgICAgPEJveFxuICAgICAgICBzeD17e1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAnJiA+IConOiB7XG4gICAgICAgICAgICBmbGV4OiAnMSAxIGF1dG8nLFxuICAgICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnJiA+ICogKyAqJzoge1xuICAgICAgICAgICAgbWw6IDEsXG4gICAgICAgICAgfSxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGRpc2FibGVkPXtmYWxzZX1cbiAgICAgICAgICBjb21wb25lbnQ9XCJsYWJlbFwiXG4gICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXG4gICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICBzdGFydEljb249ezxJY29uPmZvbGRlcjwvSWNvbj59XG4gICAgICAgID5cbiAgICAgICAgICBTZWxlY3QgZmlsZVxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgYWNjZXB0PXthY3Rpb25SZXF1ZXN0LmFjY2VwdH1cbiAgICAgICAgICAgIG11bHRpcGxlPXthY3Rpb25SZXF1ZXN0Lm11bHRpcGxlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKTogdm9pZCA9PiBoYW5kbGVGaWxlQ2hhbmdlKGUudGFyZ2V0LmZpbGVzKX1cbiAgICAgICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17c2V0UmVzcG9uc2V9XG4gICAgICAgICAgZGlzYWJsZWQ9e2ZpbGVzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgIHN0YXJ0SWNvbj17PEljb24+c2VuZDwvSWNvbj59XG4gICAgICAgID5cbiAgICAgICAgICB7c2VuZEJ1dHRvblRleHR9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9Cb3g+XG4gICAgPC9Cb3g+XG4gICk7XG59XG4iXX0=